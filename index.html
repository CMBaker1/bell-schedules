<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Scheduled Sound Alert</title>  
</head>  
<body>  
    <audio id="sound" src="https://github.com/CMBaker1/bell-schedules/raw/refs/heads/main/Clean_up_time.mp3" preload="auto" controls></audio>  
  
    <!-- Button for user interaction -->  
    <button id="startButton">Start Schedule</button>  
  
    <script>  
        console.log("Script loaded successfully");  
  
        // Define the times with seconds for precise scheduling  
        const playTimes = ["08:32:00", "09:02:00", "09:54:00", "10:08:00", "10:46:00", "11:38:00", "12:30:00", "12:59:00", "13:52:00", "14:43:00"]; // Include all times with precise seconds  
  
        function checkTimeAndPlay() {  
            const now = new Date();  
            const currentTime = now.getHours().toString().padStart(2, '0') + ":" +   
                                now.getMinutes().toString().padStart(2, '0') + ":" +   
                                now.getSeconds().toString().padStart(2, '0');  
            console.log("Current time checked:", currentTime);  
            console.log("Expected play times:", playTimes);  
  
            if (playTimes.includes(currentTime)) {  
                console.log("Attempting to play sound at:", currentTime);  
                document.getElementById('sound').play().then(() => {  
                    console.log("Sound played successfully at:", currentTime);  
                }).catch(error => {  
                    console.error("Playback failed:", error);  
                });  
            } else {  
                console.log("Current time not a play time:", currentTime);  
            }  
        }  
  
        function startChecking() {  
            checkTimeAndPlay(); // Initial check  
            setInterval(checkTimeAndPlay, 1000); // Check every second  
            console.log("Schedule started");  
        }  
  
        // Add event listener to button to start schedule  
        document.getElementById('startButton').addEventListener('click', startChecking);  
    </script>  
</body>  
</html>  
