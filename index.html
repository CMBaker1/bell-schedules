<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Scheduled Sound Alert</title>  
</head>  
<body>  
    <audio id="sound" src="https://github.com/CMBaker1/bell-schedules/raw/refs/heads/main/Clean_up_time.mp3" preload="auto" controls></audio>  
  
    <!-- Button for user interaction -->  
    <button id="startButton">Start Schedule</button>  
  
    <script>  
        console.log("Script loaded successfully");  
  
        // Define the times for the first day's schedule  
        const playTimes = ["08:32", "09:02", "09:54", "10:46", "11:38", "12:15", "12:30", "12:59", "13:52", "14:43", "12:06"]; // Add test time for immediate testing  
  
        let lastCheckedMinute = null;  
  
        function checkTimeAndPlay() {  
            const now = new Date();  
            const currentTime = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');  
  
            if (now.getMinutes() !== lastCheckedMinute) {  
                lastCheckedMinute = now.getMinutes();  
                console.log("Current time checked:", currentTime);  
  
                if (playTimes.includes(currentTime)) {  
                    console.log("Attempting to play sound at:", currentTime);  
                    document.getElementById('sound').play().then(() => {  
                        console.log("Sound played successfully at:", currentTime);  
                    }).catch(error => {  
                        console.error("Playback failed:", error);  
                    });  
                } else {  
                    console.log("Current time not a play time:", currentTime);  
                }  
            }  
        }  
  
        // Add event listener to button to start schedule  
        document.getElementById('startButton').addEventListener('click', function() {  
            setInterval(checkTimeAndPlay, 1000);  
            console.log("Schedule started");  
        });  
    </script>  
</body>  
</html>  
